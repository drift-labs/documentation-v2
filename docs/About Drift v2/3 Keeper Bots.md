---
title: Keeper Bots
slug: hfCI-keeper-bots
createdAt: Mon Feb 21 2022 08:09:26 GMT+0000 (Coordinated Universal Time)
updatedAt: Fri Mar 03 2023 20:39:15 GMT+0000 (Coordinated Universal Time)
---

# Introduction

Keeper Bots in the Drift Protocol keep the protocol operational by performing automated actions as autonomous off-chain agents. Keepers are rewarded depending on the duties that they perform.

The various types of keeper bots are:

| Bot Type      | Difficulty | Capital Required | Rewards | Link                                                                        |
| :------------ | :--------- | :--------------- | :------ | --------------------------------------------------------------------------- |
| Matching Bot  | Basic      | No               | TBD     | [Tutorial: Order Matching Bot](../Guides/Tutorial_%20Order%20Matching%20Bot.md)&#x20;   |
| Order Trigger | Basic      | No               | TBD     | [Tutorial: Order Trigger Bot](../Guides/Tutorial_%20Order%20Trigger%20Bot.md)&#x20;     |
| Liquidator    | Advanced   | Yes              | TBD     | \*\*\*\*[Tutorial: Liquidation Bot](../Guides/Tutorial_%20Liquidation%20Bot.md)&#x20; |

_Note: all bots require some amount of SOL for user account rent and to pay transaction fees. _

The reference implementation for all Keeper bots mentioned in these docs is available [here](https://github.com/drift-labs/keeper-bots-v2).

# Preparing Environment

First clone the keeper-bots-v2 repo (make sure to check out the correct branch for the cluster you are targetting)

| **Branch Name** | **Cluster**  |
| --------------- | ------------ |
| master          | devnet       |
| devnet          | devnet       |
| mainnet-beta    | mainnet-beta |

```shell
git clone https://github.com/drift-labs/keeper-bots-v2 -b devnet
```

Prepare the required environment variables by copying over `.env.example`, modify `.env` with your preferred values

```shell
cp .env.example .env
```

### Required Environment Variables

`KEEPER_PRIVATE_KEY`: the private key of the account to use for signing transactions. This account is the signing of authority of all accounts used by this bot. The value can be a number array (as in the example) or a path to a `keypair.json `file as generated by `solana-keygen`
`ENDPOINT:` the JSON-RPC endpoint to use
`ENV`: devnet

# Initialise `User`

The signing account needs to have a `User` account before they are able to interact with the `DriftClient` program. We've included a `--init-user` flag on the Keeper Bot script to help with initializing new users.

:::codeblocktabs

```shell
yarn run start --init-user
```

```typescript
if (!(await driftClient.getUser().exists())) {
    logger.info(`Creating DriftClient for ${wallet.publicKey}`);
    const [txSig] = await driftClient.initializeUserAccount();
    logger.info(`Initialized user account in transaction: ${txSig}`);
}
```

:::

# Depositing Collateral

‚ùóOnly required if you are trading or your bot needs to maintain open positions (JIT makers and certain liquidators)

Trading, as well as some Keeper functions (Liquidators and JIT makers), require the account to maintain open positions, and so those accounts must hold collateral. The Keeper Bot script includes a `--force-deposit` flag to help with depositing collateral.

```shell
# deposit 10,000 USDC from account
yarn run start --force-deposit 10000
```
